<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <title>The Lazy Dev's Guide to Testing Your Web API</title>

  <link rel="stylesheet" href="./resources/deck-js/core/deck.core.css">
  <link rel="stylesheet" href="./resources/deck-js/extensions/hash/deck.hash.css">
  <link rel="stylesheet" href="./resources/deck-js/themes/style/swiss.css">
  <link rel="stylesheet" href="./resources/deck-js/themes/transition/vertical-slide.css">
  <link rel="stylesheet" href="./resources/playitagainsam-js/playitagainsam.css">

  <script src="./resources/deck-js/modernizr.custom.js"></script>
  <script src="./resources/deck-js/jquery-1.7.2.min.js"></script>
  <script src="./resources/flot/jquery.flot.js"></script>
  <script src="./resources/flot/jquery.flot.axislabels.js"></script>
  <script src="./resources/deck-js/core/deck.core.js"></script>
  <script src="./resources/deck-js/extensions/hash/deck.hash.js"></script>
  <script src="./resources/playitagainsam-js/playitagainsam.js"></script>


</head>
<body class="deck-container">

<section class="slide">
  <h2>The Lazy Dev's Guide to...</h2>  
  <h1>Testing Your Web API</h1>
</section>

<section class="slide">
  <h2>Quality Assurance</h2>
  <table>
  <tr><td style="vertical-align:middle;">quality</td><td>
    <div id="qa-plot" style="width:800px;height:400px"></div>
  </td></tr><tr><td colspan="2" style="text-align:center">effort</td></tr>
  </table>
  <script type="text/javascript">
  $(function() {
      var plot = $("#qa-plot")
      var highlights = [];
      var slope = 0.2;
      var func = function(x) {
         return 1 - (1 / Math.exp(slope * x));
      }
      var redraw = function() {
         var series = []
         var data = [];
         for (var i=0; i<30; i=i+0.5) {
            data[i] = [i, func(i)];
         }
         series.push(data);
         for(var i=0; i<highlights.length; i++) {
             var x = highlights[i].datapoint[0];
             var y = func(x);
             series.push([[x, 0], [x, y]])
             series.push([[0, y], [x, y]])
         }
         $.plot(plot, series, {
           xaxis: { show: false },
           yaxis: { show: false },
           grid: { hoverable: true, mouseActiveRadius: 10 },
         });
      };
      redraw();
      var is_dragging = false;
      var did_drag = false;
      var click_target = null;
      plot.bind("mousedown", function() {
         is_dragging = true;
         did_drag = false;
      });
      plot.bind("plothover", function(e, pos, item) {
          click_target = item;
          if(is_dragging) {
              did_drag = true;
              slope = Math.log(-1 / (pos.y - 1)) / pos.x
              redraw();
          }
      });
      plot.bind("mouseup", function() {
          is_dragging = false;
          if(!did_drag && click_target) {
             highlights.push(click_target);
             redraw();
          }
          did_drag = false;
      });
  });
  </script>
</section>

<section class="slide">
  <h2>Pro-Active Laziness</h2>
  <p>Victor Tugelbend was the laziest person in the history of the world.  Not simply, ordinary lazy.  Ordinary laziness was merely the absence of effort. [...] He put more effort into avoiding work than most people put into hard labour.</p>
  <p>Having to haul around extra poundage was far too much effort, so he saw to it that he never put it on.</p>
</section>

<section class="slide">
  <h2>Who Am I?</h2>

 <ul>
   <li>~1 year with Mozilla Services</li>
   <li>Firefox Sync Server</li>
   <li>Lots more in the pipe</li>
 </ul>

 <ul class="slide">
   <li>Some of this is stuff we already do</li>
   <li>Some is stuff I want to try</li>
 </ul>

</section>

<section class="slide">
  <h1>A Simple Web API</h1>
</section>

<section class="slide">
  <h2>A Simple Web API</h2>
  <p>This will be a "lite" version of the FF sync server.</p>
</section>

<section class="slide">
  <h1>WebTest</h1>
</section>

<section class="slide">
    <div id="pias1"></div>
    <script type="text/javascript" src="./resources/pias-session-1.js"></script>
    <script type="text/javascript">
      new PIAS.Player($("#pias1")).play(pias_data);
    </script>
</section>

<section class="slide">
  <h1>WSGIProxy</h1>
</section>

<section class="slide">
    <div id="pias2"></div>
    <script type="text/javascript" src="./resources/pias-session-2.js"></script>
    <script type="text/javascript">
      new PIAS.Player($("#pias2")).play(pias_data);
    </script>
</section>

<section class="slide">
  <h1>FunkLoad</h1>
</section>

<section class="slide">
  <h2>Notes</h2>
  <p>Pro-Active laziness, Victor Tugelbend from "Moving Pictures" by terry pratchet.</p>
</section>

<script>
$(function() {
    $.deck('.slide');
});
</script>
</body>
</html>
